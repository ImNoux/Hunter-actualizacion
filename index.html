<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comunidad ARC</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <div class="header-top">
            <div class="menu-container">
                <button class="menu-btn" onclick="toggleMenu()"><i class="fas fa-bars"></i> Men√∫</button>
                <div id="menuDropdown" class="menu-dropdown">
                    <a href="#" onclick="openFullProfile()">üë§ Mi Perfil</a>
                    
                    <a id="menuLogin" href="#" onclick="openModal('loginModal')">Iniciar Sesi√≥n</a>
                    <a id="menuLogout" href="#" onclick="logoutSystem()" style="display: none; color: #ff4d4d;">Cerrar Sesi√≥n</a>
                    
                    <a href="#" onclick="openModal('updatesModal')">Actualizaciones</a>
                    <a href="#" onclick="openModal('contactModal')">Contactos</a>
                </div>
            </div>

            <h1 onclick="goToHome()">COMUNIDAD ARC</h1>

            <div id="newThreadButtonContainer">
                <button id="newThreadButton">+ Nuevo</button>
            </div>
        </div>

        <nav class="nav-tabs">
            <button class="tab-btn active" onclick="changeSection('Publicaciones')">Publicaciones</button>
            <button class="tab-btn" onclick="changeSection('Foros')">Foros</button>
        </nav>
    </header>

    <input type="text" id="searchInput" placeholder="Buscar usuarios...">

    <main>
        <div class="thread-container">
            <p id="noThreadsMessage">No hay contenido aqu√≠.</p>
        </div>
        <div id="pagination-container"></div>
    </main>

    <footer>
        <p>ARC_CLXN &copy; 2025. Todos los derechos reservados.</p>
    </footer>

    <div class="modal-content" id="newThreadModalContent">
        <span class="close-button" onclick="closeModal('newThreadModalContent')">&times;</span>
        <h2 style="font-size: 1.3em; margin-bottom: 20px; text-align: center; color: #fff;">Crear Publicaci√≥n</h2>
        <form id="newThreadForm">
            <input type="hidden" id="sectionInput" name="section" value="Publicaciones">
            <div class="form-group">
                <label for="categorySelect">Rango:</label>
                <select id="categorySelect" required>
                    <option value="" disabled selected>-- Selecciona --</option>
                    <option value="Hunter">Hunter</option>
                    <option value="Creator">Creator</option>
                    <option value="Elite">Elite</option>
                    <option value="Designer">Designer</option>
                    <option value="Top Model">Top Model</option>
                    <option value="Mentor">Mentor</option>
                    <option value="Cheerleader">Cheerleader</option>
                    <option value="Moon & Sun">Moon & Sun</option>
                </select>
            </div>
            <div class="form-group">
                <label for="robloxUser">Usuario Roblox:</label>
                <input type="text" id="robloxUser" name="robloxUser" placeholder="Debes iniciar sesi√≥n primero" required autocomplete="off" disabled style="background-color: #252525; cursor: not-allowed;">
            </div>
            <div class="form-group">
                <label for="title">T√≠tulo del Post:</label>
                <input type="text" id="title" name="title" placeholder="Ej: Busco equipo..." required autocomplete="off">
            </div>
            <div class="form-group">
                <label for="description">Descripci√≥n:</label>
                <textarea id="description" name="description" placeholder="Escribe los detalles..." required rows="4"></textarea>
            </div>
            <label for="imageFile" class="upload-btn-gray"><i class="fas fa-images"></i> Multimedia (Varios)</label>
            <input type="file" id="imageFile" accept="image/*, video/*" multiple style="display:none;">
            <p id="fileName" class="file-name-display"></p>
            <button type="submit" id="submitBtn" class="publish-btn">PUBLICAR</button>
        </form>
    </div>

    <div id="commentsModal" class="modal-overlay">
        <div class="comments-content">
            <span class="close-button" onclick="closeModal('commentsModal')">&times;</span>
            <h3 id="commentsTitle">Comentarios</h3>
            <div id="commentsList"><p style="text-align:center;">Cargando...</p></div>
            <form id="commentForm">
                <input type="text" id="usernameInput" placeholder="User" required autocomplete="off" maxlength="15">
                <input type="text" id="commentInput" placeholder="..." required autocomplete="off">
                <button type="submit"><i class="fas fa-paper-plane"></i></button>
            </form>
        </div>
    </div>

    <div class="modal-content" id="loginModal">
        <span class="close-button" onclick="closeModal('loginModal')">&times;</span>
        <h2 style="font-size: 1.3em; margin-bottom: 20px; text-align: center; color: #fff;">Iniciar Sesi√≥n</h2>
        <div class="form-group">
            <label>Usuario:</label>
            <input type="text" id="loginUser" placeholder="Tu usuario exacto" required autocomplete="off">
        </div>
        <div class="form-group">
            <label>PIN (Clave):</label>
            <input type="password" id="loginPin" placeholder="****" maxlength="4">
        </div>
        <button onclick="loginSystem()" class="publish-btn" style="background-color: #00a2ff; margin-top:10px;">ENTRAR</button>
        <p style="text-align:center; margin-top:20px; font-size:0.9em; color:#aaa;">
            ¬øNo tienes cuenta? <a href="#" onclick="closeModal('loginModal'); openModal('registerModal')" style="color:#00a2ff; font-weight:bold;">Reg√≠strate aqu√≠</a>
        </p>
    </div>

    <div class="modal-content" id="registerModal">
        <span class="close-button" onclick="closeModal('registerModal')">&times;</span>
        <h2 style="font-size: 1.3em; margin-bottom: 20px; text-align: center; color: #fff;">Crear Cuenta Nueva</h2>
        <div class="form-group">
            <label>Crear Usuario:</label>
            <input type="text" id="regUser" placeholder="Elige un usuario √∫nico" required autocomplete="off">
        </div>
        <div class="form-group">
            <label>Crear PIN (4 d√≠gitos):</label>
            <input type="text" id="regPin" placeholder="Ej: 1234" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '')">
        </div>
        <button onclick="registerSystem()" class="publish-btn" style="background-color: #2b2d31; border: 1px solid #00a2ff; color: #00a2ff; margin-top:10px;">CREAR CUENTA</button>
        <p style="text-align:center; margin-top:20px; font-size:0.9em; color:#aaa;">
            ¬øYa tienes cuenta? <a href="#" onclick="closeModal('registerModal'); openModal('loginModal')" style="color:#00a2ff;">Inicia sesi√≥n</a>
        </p>
    </div>

    <div class="modal-content" id="editProfileModal" style="max-width: 350px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <span onclick="closeModal('editProfileModal')" style="cursor:pointer; font-size:1.2em;">‚úï</span>
            <h3 style="margin:0; font-size:1.1em;">Editar perfil</h3>
            <span onclick="saveProfileChanges()" id="saveProfileBtn" style="cursor:pointer; color:#00a2ff; font-weight:bold;">Listo</span>
        </div>

        <div style="text-align:center; margin-bottom:20px;">
            <div style="position:relative; display:inline-block;">
                <img id="editAvatarPreview" src="" style="width:80px; height:80px; border-radius:50%; object-fit:cover; border:2px solid #333;">
                <div onclick="document.getElementById('avatarUpload').click()" style="position:absolute; bottom:0; right:0; background:#00a2ff; color:white; border-radius:50%; width:25px; height:25px; display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:0.8em;">
                    <i class="fas fa-camera"></i>
                </div>
            </div>
            <p style="color:#00a2ff; font-size:0.9em; margin-top:10px; cursor:pointer;" onclick="document.getElementById('avatarUpload').click()">Editar foto o avatar</p>
        </div>

        <div class="edit-group">
            <label>Nombre</label>
            <input type="text" id="editNameInput" placeholder="Tu nombre visible">
            <p class="limit-info">Se puede cambiar cada 7 d√≠as.</p>
        </div>

        <div class="edit-group">
            <label>Nombre de usuario</label>
            <input type="text" id="editHandleInput" placeholder="Ej: kiuxt">
            <p class="limit-info">Se puede cambiar cada 15 d√≠as.</p>
        </div>

        <div class="edit-group">
            <label>Presentaci√≥n</label>
            <textarea id="editBioInput" rows="2" placeholder="Cu√©ntanos algo..."></textarea>
        </div>

        <div class="edit-group">
            <label>Nota de Estado</label>
            <input type="text" id="editStatusInput" placeholder="¬øQu√© piensas hoy?" maxlength="30">
        </div>
    </div>

    <div id="updatesModal" class="modal-overlay">
        <div class="info-content">
            <span class="close-button" onclick="closeModal('updatesModal')">&times;</span>
            <h2>Actualizaciones v7.0</h2>
            <ul style="text-align: left; margin-top: 15px; padding-left: 20px; color: #ccc; line-height: 1.6;">
                <li>Nueva interfaz de Edici√≥n</li>
                <li>Restricci√≥n de cambio de nombre (7 d√≠as)</li>
                <li>Restricci√≥n de usuario (15 d√≠as)</li>
            </ul>
        </div>
    </div>

    <div id="contactModal" class="modal-overlay">
        <div class="info-content">
            <span class="close-button" onclick="closeModal('contactModal')">&times;</span>
            <h2>Contacto</h2>
            <p>S√≠guenos en Instagram:</p>
            <div style="margin-top: 20px; font-size: 1.2em;">
                <i class="fab fa-instagram" style="color: #E1306C;"></i>
                <a href="https://instagram.com/arc_clxn" target="_blank" style="color: #00a2ff; text-decoration: none; font-weight: bold; margin-left: 5px;">arc_clxn</a>
            </div>
        </div>
    </div>

    <div id="customAlertModal" class="modal-overlay" style="z-index: 4000;">
        <div class="info-content">
            <h2 style="color: #ff4d4d; border-bottom: 1px solid #ff4d4d;">‚ö†Ô∏è ATENCI√ìN</h2>
            <p id="customAlertText" style="font-size: 1.1em; color: #fff; margin: 20px 0;"></p>
            <button onclick="document.getElementById('customAlertModal').style.display='none'" style="background: #fff; color: #000; border: none; padding: 10px 20px; font-weight: bold; border-radius: 4px; cursor: pointer;">ENTENDIDO</button>
        </div>
    </div>

    <input type="file" id="avatarUpload" accept="image/*" style="display: none;">
    <script type="module" src="script.js"></script>
    <script>
        function toggleMenu() { document.getElementById("menuDropdown").classList.toggle("show"); }
        window.closeModal = (id) => document.getElementById(id).style.display = 'none';
        window.openModal = (id) => { 
            document.getElementById("menuDropdown").classList.remove('show');
            document.getElementById(id).style.display = 'block'; 
        }
        document.getElementById('imageFile').onchange = function() {
            if(this.files && this.files.length > 0) {
                document.getElementById('fileName').textContent = this.files.length === 1 ? (this.files[0].name.substring(0,25) + "...") : `${this.files.length} archivos`;
            } else { document.getElementById('fileName').textContent = ""; }
        };
        window.toggleMenu = toggleMenu;
    </script>
</body>
</html>